var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function a(){return t=" ",document.createTextNode(t);var t}function d(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){t.value=null==e?"":e}let m;function g(t){m=t}const h=[],v=[],$=[],x=[],b=Promise.resolve();let w=!1;function y(t){$.push(t)}let _=!1;const k=new Set;function C(){if(!_){_=!0;do{for(let t=0;t<h.length;t+=1){const e=h[t];g(e),P(e.$$)}for(g(null),h.length=0;v.length;)v.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];k.has(e)||(k.add(e),e())}$.length=0}while(h.length);for(;x.length;)x.pop()();w=!1,_=!1,k.clear()}}function P(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(y)}}const E=new Set;function S(t,e){-1===t.$$.dirty[0]&&(h.push(t),w||(w=!0,b.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(r,l,i,u,a,d,f=[-1]){const p=m;g(r);const h=l.props||{},v=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let $=!1;if(v.ctx=i?i(r,h,((t,e,...n)=>{const s=n.length?n[0]:e;return v.ctx&&a(v.ctx[t],v.ctx[t]=s)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](s),$&&S(r,t)),e})):[],v.update(),$=!0,s(v.before_update),v.fragment=!!u&&u(v.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);v.fragment&&v.fragment.l(t),t.forEach(c)}else v.fragment&&v.fragment.c();l.intro&&((x=r.$$.fragment)&&x.i&&(E.delete(x),x.i(b))),function(t,n,r){const{fragment:l,on_mount:i,on_destroy:c,after_update:u}=t.$$;l&&l.m(n,r),y((()=>{const n=i.map(e).filter(o);c?c.push(...n):s(n),t.$$.on_mount=[]})),u.forEach(y)}(r,l.target,l.anchor),C()}var x,b;g(p)}function A(t){let e,n,s;return{c(){e=u("input"),n=a(),s=u("div"),f(e,"class","input svelte-1imgx7f"),e.required=!0,f(e,"type","password"),f(e,"placeholder","Password"),f(e,"autocomplete","current-password"),f(s,"class","spacer svelte-1imgx7f")},m(t,o){i(t,e,o),i(t,n,o),i(t,s,o)},d(t){t&&c(e),t&&c(n),t&&c(s)}}}function V(t){let e,n,o,r,l,m,g,h,v;return{c(){e=u("input"),n=a(),o=u("div"),r=a(),l=u("input"),m=a(),g=u("div"),f(e,"class","input svelte-1imgx7f"),e.required=!0,f(e,"type","password"),f(e,"placeholder","Password"),f(e,"autocomplete","new-password"),f(o,"class","spacer svelte-1imgx7f"),f(l,"class","input svelte-1imgx7f"),l.required=!0,f(l,"type","password"),f(l,"placeholder","Confirm your password"),f(l,"autocomplete","new-password"),f(g,"class","spacer svelte-1imgx7f")},m(s,c){i(s,e,c),p(e,t[3].password),i(s,n,c),i(s,o,c),i(s,r,c),i(s,l,c),t[8](l),p(l,t[3].confirmPassword),i(s,m,c),i(s,g,c),h||(v=[d(e,"input",t[7]),d(l,"input",t[4]),d(l,"input",t[9])],h=!0)},p(t,n){8&n&&e.value!==t[3].password&&p(e,t[3].password),8&n&&l.value!==t[3].confirmPassword&&p(l,t[3].confirmPassword)},d(i){i&&c(e),i&&c(n),i&&c(o),i&&c(r),i&&c(l),t[8](null),i&&c(m),i&&c(g),h=!1,s(v)}}}function j(t){let e;return{c(){e=u("button"),e.textContent="Sign in",f(e,"class","btn-submit svelte-1imgx7f"),f(e,"type","submit")},m(t,n){i(t,e,n)},d(t){t&&c(e)}}}function N(t){let e;return{c(){e=u("button"),e.textContent="Register",f(e,"class","btn-submit svelte-1imgx7f"),f(e,"type","submit")},m(t,n){i(t,e,n)},d(t){t&&c(e)}}}function O(t){let e;return{c(){e=u("button"),e.textContent="Send me a link",f(e,"class","btn-submit svelte-1imgx7f"),f(e,"type","submit")},m(t,n){i(t,e,n)},d(t){t&&c(e)}}}function L(e){let n,s,o;return{c(){n=u("a"),n.textContent="I have an\n          account",f(n,"class","link svelte-1imgx7f"),f(n,"href","/login")},m(t,r){i(t,n,r),s||(o=d(n,"click",e[6]),s=!0)},p:t,d(t){t&&c(n),s=!1,o()}}}function z(e){let n,s,o;return{c(){n=u("a"),n.textContent="Create an\n          account",f(n,"class","link svelte-1imgx7f"),f(n,"href","/register")},m(t,r){i(t,n,r),s||(o=d(n,"click",e[6]),s=!0)},p:t,d(t){t&&c(n),s=!1,o()}}}function B(e){let n,s,o;return{c(){n=u("a"),n.textContent="Forgot\n          password?",f(n,"class","link svelte-1imgx7f"),f(n,"href","/restore")},m(t,r){i(t,n,r),s||(o=d(n,"click",e[6]),s=!0)},p:t,d(t){t&&c(n),s=!1,o()}}}function D(e){let n,s,o,r,p,m,g,h,v,$,x,b,w,y,_,k,C,P,E,S,q,D,F,I="login"===e[0]&&A(),M="register"===e[0]&&V(e),R="login"===e[0]&&j(),T="register"===e[0]&&N(),G="restore"===e[0]&&O(),H="login"!==e[0]&&L(e),J="register"!==e[0]&&z(e),K="restore"!==e[0]&&B(e);return{c(){n=u("main"),s=u("form"),o=u("img"),p=a(),m=u("div"),g=a(),h=u("input"),v=a(),$=u("div"),x=a(),I&&I.c(),b=a(),M&&M.c(),w=a(),R&&R.c(),y=a(),T&&T.c(),_=a(),G&&G.c(),k=a(),C=u("div"),P=a(),E=u("div"),H&&H.c(),S=a(),J&&J.c(),q=a(),K&&K.c(),f(o,"class","logotype svelte-1imgx7f"),o.src!==(r="/logo.svg")&&f(o,"src","/logo.svg"),f(o,"width","100"),f(o,"height","100"),f(o,"alt",""),f(o,"role","presentation"),f(m,"class","spacer svelte-1imgx7f"),f(h,"class","input svelte-1imgx7f"),h.required=!0,f(h,"type","email"),f(h,"placeholder","Email"),f(h,"autocomplete","email"),f(h,"autocapitalize","off"),f($,"class","spacer svelte-1imgx7f"),f(C,"class","spacer svelte-1imgx7f"),f(E,"class","links svelte-1imgx7f"),f(s,"class","pane svelte-1imgx7f"),f(n,"class","page svelte-1imgx7f")},m(t,r){i(t,n,r),l(n,s),l(s,o),l(s,p),l(s,m),l(s,g),l(s,h),l(s,v),l(s,$),l(s,x),I&&I.m(s,null),l(s,b),M&&M.m(s,null),l(s,w),R&&R.m(s,null),l(s,y),T&&T.m(s,null),l(s,_),G&&G.m(s,null),l(s,k),l(s,C),l(s,P),l(s,E),H&&H.m(E,null),l(E,S),J&&J.m(E,null),l(E,q),K&&K.m(E,null),e[10](s),D||(F=d(s,"submit",e[5]),D=!0)},p(t,[e]){"login"===t[0]?I||(I=A(),I.c(),I.m(s,b)):I&&(I.d(1),I=null),"register"===t[0]?M?M.p(t,e):(M=V(t),M.c(),M.m(s,w)):M&&(M.d(1),M=null),"login"===t[0]?R||(R=j(),R.c(),R.m(s,y)):R&&(R.d(1),R=null),"register"===t[0]?T||(T=N(),T.c(),T.m(s,_)):T&&(T.d(1),T=null),"restore"===t[0]?G||(G=O(),G.c(),G.m(s,k)):G&&(G.d(1),G=null),"login"!==t[0]?H?H.p(t,e):(H=L(t),H.c(),H.m(E,S)):H&&(H.d(1),H=null),"register"!==t[0]?J?J.p(t,e):(J=z(t),J.c(),J.m(E,q)):J&&(J.d(1),J=null),"restore"!==t[0]?K?K.p(t,e):(K=B(t),K.c(),K.m(E,null)):K&&(K.d(1),K=null)},i:t,o:t,d(t){t&&c(n),I&&I.d(),M&&M.d(),R&&R.d(),T&&T.d(),G&&G.d(),H&&H.d(),J&&J.d(),K&&K.d(),e[10](null),D=!1,F()}}}function F(t,e,n){let s,o,r=window.location.pathname.split("/")[1]||"login",l={password:"",confirmPassword:""};return t.$$.update=()=>{1&t.$$.dirty&&window.history.pushState(null,"",`/${r}`)},[r,s,o,l,function(){s.setCustomValidity("")},function(t){t.preventDefault(),"register"===r&&(l.password!==l.confirmPassword?s.setCustomValidity("Passwords should match"):s.setCustomValidity(""));const e=o.checkValidity();console.log("submit, valid:",e),e?alert("Success!"):o.reportValidity()},function(t){const e=t.target.getAttribute("href").split("/")[1];n(0,r=e)},function(){l.password=this.value,n(3,l)},function(t){v[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},function(){l.confirmPassword=this.value,n(3,l)},function(t){v[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),q(this,t,F,D,r,{})}}({target:document.body})}();
